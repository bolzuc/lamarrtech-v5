/* --- ESTILOS RESPONSIVOS PARA MÓVIL (Versión Unificada y Agresiva) --- */

:root {
    --header-height: 70px; /* Aumentado ligeramente para mejor tap target */
    --primary: #0056b3;   /* Azul Corporativo */
    --secondary: #00d4ff; /* Celeste Brillante */
    --dark-bg: #020617;   
    --card-bg: #ffffff;
    --text-dark: #1e293b;
    --text-light: #64748b;
    --white: #ffffff;
}

/* 1. ELEMENTOS MÓVILES (Ocultos en Escritorio) */

/* Ocultamos los elementos móviles por defecto (para vista de PC) */
.mobile-drawer, .drawer-overlay {
    display: none;
}
.mobile-snap-scroll, .partners-grid-mobile, .mobile-footer, .mobile-section {
    display: none !important;
}

.btn-mobile-primary {
    display: inline-block;
    background: var(--primary);
    color: white;
    font-weight: 700;
    padding: 14px 35px;
    border-radius: 50px;
    text-decoration: none;
    box-shadow: 0 4px 15px rgba(0, 86, 179, 0.3);
    margin-bottom: 20px;
    text-transform: uppercase;
    letter-spacing: 0.5px;
    font-size: 0.95rem;
    border: none;
    cursor: pointer;
    width: 100%;
    text-align: center;
}

/* 2. FIX DE VISIBILIDAD CRÍTICA (Páginas Blancas) */
.fade-in, .slide-in-header, .slide-in, .reveal { 
    opacity: 1 !important; 
    transform: translateY(0) !important; 
}

/* 3. CLASES COMUNES MÓVILES */
.section-title { font-size: 1.8rem !important; font-weight: 800 !important; text-align: center; margin-bottom: 30px; color: var(--text-dark); }
.mobile-section { 
    padding: 40px 0 !important; 
    /* Aseguramos que el fondo blanco esté siempre visible en móvil para el contenido. */
    background-color: var(--white) !important; 
}
.mobile-strategy-block { background-color: #f8fafc; border-left: 4px solid var(--primary); padding: 25px; border-radius: 8px; margin: 20px auto 40px auto; max-width: 90%; }
.mobile-strategy-block p { font-size: 1.1rem; color: var(--text-dark); margin: 0; }
.dark-logo-bg { background: #f1f5f9; border-radius: 8px; padding: 8px; }

/* 4. LAYOUTS DE CARDS (Usados en Servicios/Data) */
.feature-list-vertical { display: flex; flex-direction: column; gap: 15px; padding: 0 10px; }
.feature-card { border: 1px solid #e2e8f0; border-radius: 12px; padding: 20px; display: flex; gap: 15px; align-items: center; background: var(--white); }
.feature-icon-box { background: rgba(0, 86, 179, 0.1); color: var(--primary); width: 44px; height: 44px; border-radius: 8px; display: flex; justify-content: center; align-items: center; font-size: 1.2rem; flex-shrink: 0; }
.feature-content h3 { font-size: 1.1rem; margin: 0; color: var(--text-dark); }
.feature-content p { font-size: 0.9rem; margin: 0; color: var(--text-light); }

/* 5. FIX DE HERO CON PROBLEMAS DE CONTRASTE */
.mobile-hero h1, .mobile-hero p { color: white !important; }
.mobile-hero .hero-badge { color: var(--secondary) !important; border-color: var(--secondary) !important; background: rgba(0, 212, 255, 0.1) !important; }

/* ====================================================
   AJUSTES DEL DRAWER MÓVIL (REDISENADO)
   ==================================================== */
.mobile-drawer {
    position: fixed;
    top: 0;
    right: 0;
    width: 300px;
    max-width: 80vw;
    height: 100%;
    background-color: var(--dark-bg);
    color: var(--white);
    box-shadow: -5px 0 15px rgba(0, 0, 0, 0.3);
    z-index: 9998;
    transform: translateX(100%);
    transition: transform 0.4s cubic-bezier(0.68, -0.55, 0.265, 1.55);
    padding: 20px;
    padding-top: var(--header-height);
    overflow-y: auto;
}

.drawer-overlay {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0, 0, 0, 0.7);
    z-index: 9997;
    opacity: 0;
    visibility: hidden;
    transition: opacity 0.4s ease, visibility 0.4s ease;
}

/* FIX CRÍTICO: Aseguramos que la clase 'open' tenga control total */
.drawer-overlay.open {
    opacity: 1;
    visibility: visible;
    display: block !important; /* Forzar visibilidad */
}

.mobile-drawer.open {
    transform: translateX(0);
    display: block !important; /* Forzar visibilidad */
}

/* --- ESTILOS DE NAVEGACIÓN REDISEÑADOS --- */
.drawer-nav {
    display: flex;
    flex-direction: column;
    gap: 15px; /* Más espacio entre grupos */
}

/* Estilo para los enlaces principales (INICIO, NOTICIAS, CONTACTO) */
.drawer-link {
    color: var(--white);
    font-size: 1.15rem;
    font-weight: 600;
    padding: 15px 10px;
    border-radius: 8px;
    margin: 5px 0;
    text-align: left;
    display: block;
    border-bottom: 1px solid rgba(255, 255, 255, 0.1);
    transition: all 0.2s ease;
}

.drawer-link:hover, .drawer-link.active {
    color: var(--secondary);
    background-color: rgba(0, 212, 255, 0.08); /* Fondo sutil para el activo/hover */
    padding-left: 20px;
}

/* Estilo para el grupo de SERVICIOS (Contenedor de sub-enlaces) */
.drawer-group {
    margin: 10px 0;
    border-bottom: none; /* Quitamos el borde del grupo */
    padding-bottom: 0;
}

.drawer-label {
    display: block;
    font-size: 0.9rem;
    color: #94a3b8;
    margin-bottom: 10px;
    text-transform: uppercase;
    letter-spacing: 1px;
    padding-left: 10px;
}

/* Estilo para los sub-enlaces (CLOUD, INTEGRATE, etc.) */
.sub-link {
    /* Reiniciamos estilos de enlace principal */
    padding: 10px 10px;
    font-size: 1rem;
    font-weight: 400;
    color: #cbd5e1;
    border-bottom: none;
    margin: 0; /* Eliminamos el margen del sub-link */
    display: block;
    border-radius: 6px;
}

.sub-link:hover, .sub-link.active {
    color: var(--primary); /* Cambiamos el color de acento a azul primario */
    background-color: rgba(255, 255, 255, 0.9); /* Fondo blanco para contraste */
    padding-left: 20px;
}

.drawer-footer {
    padding-top: 20px;
    margin-top: 30px;
    border-top: 1px solid rgba(255, 255, 255, 0.1);
}

.lang-options {
    display: flex;
    justify-content: center;
    gap: 15px;
}

.lang-opt {
    background: transparent;
    border: 1px solid #64748b;
    color: #cbd5e1;
    padding: 8px 15px;
    border-radius: 50px;
    font-size: 0.9rem;
    cursor: pointer;
    transition: all 0.2s ease;
}

.lang-opt.active {
    background: var(--primary);
    border-color: var(--primary);
    color: var(--white);
}

/* ====================================================
   MEDIA QUERY CRÍTICA (Dispositivos Móviles < 992px)
   ==================================================== */
@media (max-width: 992px) {
    /* A. BODY Y HEADER FIX */
    body { padding-top: var(--header-height) !important; }
    
    /* OCULTAR ELEMENTOS DE ESCRITORIO CON CLASE ESPECÍFICA */
    .desktop-only-content {
        display: none !important;
    }
    
    /* MOSTRAR CONTENIDO MÓVIL */
    .mobile-section {
        display: block !important;
    }
    
    /* Reglas redundantes que se pueden eliminar gracias a .desktop-only-content
       (pero las mantenemos por si algunas secciones no tienen el div contenedor) */
    .service-feature-list, 
    .sap-white-services-section, 
    .sap-results-section, 
    .cloud-explorer-section, 
    .steps-grid, 
    .layout-sidebar, 
    .secure-bento-grid, 
    .cloud-cta-integrated, 
    .strategy-block { 
        display: none !important;
    }


    /* Ocultar Navegación de Escritorio y mostrar Drawer Triggers */
    header .desktop-nav, header .language-switcher { display: none !important; }
    header .menu-toggle { 
        display: block !important; 
        /* Asegurar que el toggle tenga el tamaño adecuado */
        width: 44px;
        height: 44px;
        padding: 8px; 
    }

    /* FIX CRÍTICO DEL MENÚ: Aseguramos que el Drawer y Overlay puedan ser controlados por JS */
    .mobile-drawer, .drawer-overlay {
        display: none; /* Mantenemos oculto por defecto */
    }
    .mobile-drawer.open, .drawer-overlay.open {
        display: block !important; /* Forzar visibilidad cuando se activa */
    }
    
    /* Mostrar Footer Móvil */
    footer:not(.mobile-footer) { display: none !important; }
    .mobile-footer { 
        display: flex !important; 
        flex-direction: column;
        padding: 30px 20px;
        text-align: center;
        background-color: var(--dark-bg); /* Footer oscuro para mejor contraste */
        color: #94a3b8;
    }
    .mobile-footer .footer-links a { color: #cbd5e1; font-weight: 600; margin: 0 10px; transition: color 0.2s; }
    .mobile-footer .footer-links a:hover { color: var(--secondary); }
    .mobile-footer .footer-links { margin-bottom: 20px; }
    .mobile-footer .footer-contact-info { margin-bottom: 20px; font-size: 0.95rem; }
    .mobile-footer .footer-contact-info p { margin: 5px 0; display: block; }
    .mobile-footer .copyright { font-size: 0.85rem; color: #64748b; }
    
    /* C. LAYOUTS MÓVILES (Index) */
    .hero-solutions-grid { display: none !important; } 
    .partners-section .partners-slider-container { display: none !important; } 
    
    .mobile-snap-scroll { 
        display: flex !important; 
        overflow-x: auto;
        scroll-snap-type: x mandatory;
        gap: 15px;
        padding: 10px 20px 40px 20px;
        -webkit-overflow-scrolling: touch;
    }
    .snap-card { 
        flex: 0 0 85%; 
        scroll-snap-align: start; /* Cambio a 'start' para asegurar que el contenido inicial no se corte */
        background-color: var(--card-bg);
        border: 1px solid #e2e8f0;
        border-radius: 12px;
        padding: 20px;
        min-height: 250px;
        display: flex;
        flex-direction: column;
    }
    .snap-card h3 { font-size: 1.3rem; margin: 0 0 10px 0; color: var(--primary); }
    .snap-card p { font-size: 0.95rem; color: var(--text-light); flex-grow: 1; }
    .snap-card .card-icon { font-size: 1.5rem; color: var(--primary); margin-bottom: 15px; }
    .snap-card .card-link { display: inline-block; margin-top: 10px; color: var(--primary); font-weight: 600; }
    
    .partners-grid-mobile {
        display: grid !important; 
        grid-template-columns: repeat(2, 1fr);
        gap: 20px;
        padding: 0 20px;
    }

    /* D. CONTACTO / FORMULARIO FIXES */
    .contact-hero-section { padding-top: 80px !important; }
    .contact-video-wrapper { display: none !important; }
    .contact-form-container { 
        position: relative !important; 
        background: var(--white) !important; 
        padding: 25px !important; 
        max-width: 100% !important; 
        border-radius: 0 !important; 
        box-shadow: none !important;
        margin-top: 0 !important;
    }
    .contact-form-container h2 { color: var(--text-dark) !important; }
    .storytelling-text { color: var(--text-light) !important; }
    #lamarr-contact-form input, #lamarr-contact-form textarea, #lamarr-contact-form select { color: var(--text-dark) !important; background: #f8fafc !important; border-color: #e2e8f0 !important; }
    #lamarr-contact-form label { color: var(--text-light) !important; background: #f8fafc !important; }
    #lamarr-contact-form label.label-select { background: var(--white) !important; }
    #lamarr-contact-form input:not(:placeholder-shown) + label, #lamarr-contact-form textarea:not(:placeholder-shown) + label { background: var(--white) !important; }
}